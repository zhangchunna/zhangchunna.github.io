---
layout:     post
title:      数组
subtitle:   基本的知识点跟ES6中的扩展
date:       2019-02-19
author:     Cheung
header-img: img/post-bg-git.jpg
catalog: true
tags:
    - JS
    - ES6
---

### 一、创建一个数组

```js
    // 字面量方式:
    var a = [3, 11, 8];

    // 构造器:
    var a = Array(); 
    var a = Array(3); 
    var a = Array(3,11,8);
```

##### 1. ES6 Array.of() 
用于将一组值，转换为数组

```js
Array.of()         // []
Array.of(7);       // [7] 
Array.of(1, 2, 3); // [1, 2, 3]

Array()            // []
Array(7);          // [ , , , , , , ]
Array(1, 2, 3);    // [1, 2, 3]
```

**兼容**
```js
if (!Array.of) {
  Array.of = function() {
    return Array.prototype.slice.call(arguments);
    // return [].slice.call(arguments);
  };
}
```

##### 2. ES6 Array.from()
 
从类数组对象或者可迭代对象转为真正的数组

**Array from a `String`**
```js
Array.from('foo');//['f','o','o']
```

**Array from a `Set`**
```js
let s = new Set(['foo', window]); 
Array.from(s); // ["foo", window]
```

**Array from a `Map`**
```js
let m = new Map([[1, 2], [2, 4], [4, 8]]);
Array.from(m); 
// [[1, 2], [2, 4], [4, 8]]
```

**Array from a  `arguments`**
```js
function f(){
    return Array.from(arguments);
}
f(1,2,3)//[1,2,3]
```
**Array.from中使用箭头函数**
```js
Array.from([1,2,3],x => x + x); //[2, 4, 6]
Array.from({length: 5}, (v, i) => i); //// [0, 1, 2, 3, 4]
```




### 二、方法

##### 1.改变数组中的方法(9个)

**`splice()`**

* 定义:方法通过删除现有元素和/或添加新元素来`修改数组`

* 语法:`array.splice(index,howmany,item1,.....,itemX)`

* 参数

   1. `index`:必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置
   2. `howmany`:可选。要删除的项目数量。如果设置为 0，则不会删除项目
   3. `item1, ..., itemX`:可选。向数组添加的新项目

```js
var arr = ["a", "b", "c", "d"]; 
//从第 2 位开始删除 0 个元素，插入 "1" 
var removed = arr.splice(2, 0, "1"); 
//["a", "b", "c", "1", "d"] 

var arr = ["a", "b", "c", "d"]; 
var removed = arr.splice(3,1);
//["a", "b", "c"]; 
```   

**`sort()`**

* 定义:对数组的元素进行排序,并返回这个数组

* 语法:`arr.sort([compareFunction])`

* 参数
如果没有指明 compareFunction ，那么元素会按照转换为的字符串的诸个字符的Unicode位点进行排序

   1. 如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前
   2. 如果 compareFunction(a, b) 等于 0 ， a 和 b 的相对位置不变
   3. 如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前

```js
//比较数字,升序
function compareNumbers(a,b){
    return a - b;
}

//可以使用函数表达式书写
var numbers = [4,2,5,1,3];
numbers.sort(function(a,b){
    return a - b;
})
//numbers.sort((a, b) => a - b); 
console.log(numbers)//[1, 2, 3, 4, 5]
```   

**`pop()`**

* 定义:从数组中删除最后一个元素，并返回该元素的值

```js
let arr = [1,2,3]
let item = arr.pop();
console.log(arr); //[1,2]
```


   








